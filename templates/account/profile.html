{% extends 'base.html' %}
{% block title %}Profile{% endblock title %}
{% load static %}
{% load crispy_forms_tags %}

{% block body %}
<link rel="stylesheet" href="{% static './style/login.css' %}">
<div class="container">
    <section class="shadow-lg ">
        {% if messages %}
        {% for message in messages %}
        <div class="alert alert-danger alert-dismissible fade show text-center" role="alert">
            {{ message }}
            <span aria-hidden="true">&times;</span>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            </button>
        </div>
        {% endfor %}
        {% endif %}
        <header>
            <h2>
                {%if user.first_name %}
                {{user.first_name}}'s
                {%else%}
                {{user.username}}'s
                {%endif%}
                Profile
            </h2>
        </header>
        <!-- ------------------------------------------------- form ------------------------------------------------- -->
        <form method="POST">
            {% csrf_token %}
            <table class="table table-striped text-center shadow-sm rounded bg-light">
                {%if profile.profile_pic %}
                <img src="{{profile.profile_pic.url}}" alt="" class="img-thumbnail rounded mx-auto my-1  d-block"
                    style="height: 20rem;">
                {%else%}
                <p class="img-thumbnail rounded mx-auto my-1 w-25"
                    style="height: 10rem;">No photo avilable</p>
                {%endif%}
                <thead>
                    <tr>
                        <th scope="col">User Name</th>
                        <th scope="col">{{user.username}}</th>
                    </tr>
                </thead>
                <thead>
                    <tr>
                        <th scope="col">First name</th>
                        <th scope="col">{{user.first_name}}</th>
                    </tr>
                </thead>
                <thead>
                    <tr>
                        <th scope="col">Last name</th>
                        <th scope="col">{{user.last_name}}</th>
                    </tr>
                </thead>
                <thead>
                    <tr>
                        <th scope="col">Email</th>
                        <th scope="col">{{user.email}}</th>
                    </tr>
                </thead>
                <thead>
                    <tr>
                        <th scope="col" colspan="2">{{form | crispy}}</th>
                    </tr>
                </thead>
            </table>
            <button type="submit" class="btn btn-info">Update</button>
        </form>
        <!-- ------------------------------------------------- form ------------------------------------------------- -->

    </section>
</div>
<!-- ##########################################
## Developed By:Mustafa Raad Mutashar ##
## mustafa.raad.7@gmail.com 2020 ##
########################################## -->

{%endblock body%}